# Staging Environment Configuration
# Copy this file to .env.staging and fill in the actual values

# Application Configuration
NODE_ENV=staging
VITE_APP_ENV=staging
VITE_APP_NAME="Laser Cutting Calculator (Staging)"
VITE_APP_VERSION=1.0.0-staging

# API Configuration
VITE_API_BASE_URL=https://api-staging.lasercalc.com
VITE_API_TIMEOUT=10000
VITE_API_RETRY_ATTEMPTS=3

# Database Configuration (Backend)
DATABASE_URL=postgresql://username:password@staging-db:5432/laser_calc_staging
DATABASE_SSL=true
DATABASE_POOL_MIN=1
DATABASE_POOL_MAX=10
DATABASE_CONNECTION_TIMEOUT=30000

# Redis Cache Configuration (Backend)
REDIS_URL=redis://username:password@staging-redis:6379
REDIS_DB=1
REDIS_TTL=1800
REDIS_MAX_CONNECTIONS=5

# Memory System Configuration
VITE_MEMORY_SYSTEM_ENABLED=true
VITE_MEMORY_SYSTEM_API_URL=https://api-staging.lasercalc.com/memory
MEMORY_SYSTEM_ENCRYPTION_KEY=staging-32-character-encryption-key
MEMORY_SYSTEM_JWT_SECRET=staging-jwt-secret-key

# ML Model Configuration
VITE_ML_MODELS_ENABLED=true
VITE_ML_API_URL=https://api-staging.lasercalc.com/ml
ML_MODEL_STORAGE_PATH=/app/models
ML_MODEL_CACHE_SIZE=50
ML_INFERENCE_TIMEOUT=5000

# Security Configuration
VITE_SECURITY_ENABLED=true
SECURITY_ENCRYPTION_ALGORITHM=AES-256-GCM
SECURITY_HASH_ALGORITHM=SHA-256
SECURITY_JWT_EXPIRY=12h
SECURITY_RATE_LIMIT_REQUESTS=500
SECURITY_RATE_LIMIT_WINDOW=3600

# GDPR Compliance Configuration
VITE_GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=365  # 1 year for staging
GDPR_COOKIE_CONSENT_REQUIRED=true
GDPR_DATA_EXPORT_FORMAT=json

# Monitoring Configuration
VITE_MONITORING_ENABLED=true
SENTRY_DSN=https://your-staging-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=staging
SENTRY_RELEASE=1.0.0-staging

# Analytics Configuration
VITE_ANALYTICS_ENABLED=false  # Disabled in staging
GOOGLE_ANALYTICS_ID=
VITE_GOOGLE_ANALYTICS_ID=

# CDN Configuration
VITE_CDN_URL=https://cdn-staging.lasercalc.com
CDN_CACHE_CONTROL=public, max-age=3600
CDN_COMPRESSION=gzip,br

# Email Configuration (Backend)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=staging@lasercalc.com
SMTP_PASS=your-staging-email-password
EMAIL_FROM=staging@lasercalc.com

# File Upload Configuration
VITE_MAX_FILE_SIZE=5242880  # 5MB for staging
VITE_ALLOWED_FILE_TYPES=.pdf,.jpg,.jpeg,.png,.svg
FILE_STORAGE_PROVIDER=aws-s3
AWS_S3_BUCKET=laser-calc-staging-uploads
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-staging-aws-access-key
AWS_SECRET_ACCESS_KEY=your-staging-aws-secret-key

# Performance Configuration
VITE_PERFORMANCE_MONITORING=true
PERFORMANCE_CACHE_TTL=60
PERFORMANCE_COMPRESSION=true
PERFORMANCE_MINIFICATION=false  # Easier debugging in staging

# Feature Flags
VITE_FEATURE_ADVANCED_CALCULATORS=true
VITE_FEATURE_TEAM_COLLABORATION=true
VITE_FEATURE_EXPERT_VALIDATION=false  # Disabled in staging
VITE_FEATURE_MOBILE_OPTIMIZATION=true
VITE_FEATURE_OFFLINE_MODE=false

# Backup Configuration (Backend)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 4 * * *  # Daily at 4 AM
BACKUP_RETENTION_DAYS=7
BACKUP_STORAGE_PROVIDER=aws-s3
BACKUP_S3_BUCKET=laser-calc-staging-backups

# Load Balancer Configuration
LOAD_BALANCER_HEALTH_CHECK_PATH=/health
LOAD_BALANCER_TIMEOUT=30
LOAD_BALANCER_RETRY_ATTEMPTS=3

# SSL Configuration
SSL_CERT_PATH=/etc/ssl/certs/staging.lasercalc.com.crt
SSL_KEY_PATH=/etc/ssl/private/staging.lasercalc.com.key
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
SSL_CIPHERS=ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_MAX_SIZE=50MB
LOG_MAX_FILES=5
LOG_ROTATION=daily

# CORS Configuration
CORS_ORIGIN=https://staging.lasercalc.com
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=200  # More lenient for staging
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Session Configuration
SESSION_SECRET=your-staging-session-secret-key
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_MAX_AGE=43200000  # 12 hours

# Webhook Configuration
WEBHOOK_SECRET=your-staging-webhook-secret
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3

# Third-party Integrations (Test keys)
STRIPE_PUBLIC_KEY=pk_test_your_stripe_test_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_test_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_test_webhook_secret

# Social Authentication (Test apps)
GOOGLE_CLIENT_ID=your-staging-google-client-id
GOOGLE_CLIENT_SECRET=your-staging-google-client-secret
GITHUB_CLIENT_ID=your-staging-github-client-id
GITHUB_CLIENT_SECRET=your-staging-github-client-secret

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Staging environment under maintenance"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1

# Development Tools (Enabled in staging for debugging)
VITE_DEVTOOLS_ENABLED=true
VITE_DEBUG_MODE=true
VITE_HOT_RELOAD=false
